*latex.txt*    LaTeX plugin for Vim version 7.3 (and above)
*vim-latex*

Author:  Karl Yngve Lerv√•g <karl.yngve@gmail.com>
License: MIT license {{{
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
}}}

==============================================================================
CONTENTS                                                  *vim-latex-contents*

    1. Intro ................................ |vim-latex-intro|
    2. Options .............................. |vim-latex-options|
    3. Omni completion ...................... |vim-latex-completion|
    4. Folding .............................. |vim-latex-folding|
    5. Latexmk .............................. |vim-latex-latexmk|
    6. Motion ............................... |vim-latex-motion|
    7. Default mappings ..................... |vim-latex-mappings|
    8. Function reference ................... |vim-latex-functions|
    9. Limitations .......................... |vim-latex-limitations|

==============================================================================
INTRO                                                        *vim-latex-intro*

This vim plugin provides some convenience functionality for editing LaTeX
documents.  The goal has been to create a minimalistic and functional plugin
that is easy to customize and evolve.  Most of the functionality provided is
turned on by default, but the user may turn off features that are not desired.
The plugin will hereafter be referred to as |vim-latex|.

==============================================================================
OPTIONS                                                    *vim-latex-options*

This section describes the options for |vim-latex|.  The options are first
listed in alphabetical order, before they are described in more detail.  The
descriptions also list the default values.

Overview:~

  |g:latex_build_dir|
  |g:latex_complete_close_braces|
  |g:latex_complete_enabled|
  |g:latex_complete_patterns|
  |g:latex_default_mappings|
  |g:latex_errorformat_ignore_warnings|
  |g:latex_errorformat_show_warnings|
  |g:latex_fold_enabled|
  |g:latex_fold_envs|
  |g:latex_fold_parts|
  |g:latex_fold_preamble|
  |g:latex_fold_sections|
  |g:latex_latexmk_autojump|
  |g:latex_latexmk_options|
  |g:latex_latexmk_output|
  |g:latex_main_tex_candidates|
  |g:latex_motion_close_pats|
  |g:latex_motion_matchparen|
  |g:latex_motion_open_pats|
  |g:latex_toc_fold_levels|
  |g:latex_toc_fold|
  |g:latex_toc_hide_help|
  |g:latex_toc_resize|
  |g:latex_toc_split_side|
  |g:latex_toc_width|
  |g:latex_viewer|

------------------------------------------------------------------------------
Detailed descriptions and default values:~

                                                           *g:latex_build_dir*
Set this variable in case a dedicated build dir is used with latexmk/latex
compilations. >
  let g:latex_build_dir = '.'
<

                                               *g:latex_complete_close_braces*
When a label or a cite has been completed, this option controls whether it
will be followed by a closing brace. >
  let g:latex_complete_close_braces = 0
<

                                                    *g:latex_complete_enabled*
Use this option to prevent the plugin from setting the 'omnifunc': >
  let g:latex_complete_enabled = 1
<

                                                   *g:latex_complete_patterns*
Define patterns that control when the label and citation completion is
triggered. >
  let g:latex_complete_patterns = {
      \ 'ref' : '\C\\v\?\(eq\|page\|[cC]\)\?ref\*\?\_\s*{[^{}]*',
      \ 'bib' : '\C\\\a*cite\a*\*\?\(\[[^\]]*\]\)*\_\s*{[^{}]*',
      \ })
<

                                                    *g:latex_default_mappings*
Whether to load the default mappings.  If this is set to 0, then no mappings
will be defined.  Since all of the functionality is available as functions,
this allows the user to define his or her own mappings. >
  let g:latex_default_mappings = 1
<

                                         *g:latex_errorformat_ignore_warnings*
List of warning messages that should be ignored. >
  let g:latex_errorformat_ignore_warnings = [
        \ 'Underfull',
        \ 'Overfull',
        \ 'specifier changed to',
      \ ]
<

                                           *g:latex_errorformat_show_warnings*
Show warnings in quickfix window. >
  let g:latex_errorformat_show_warnings = 1
<

                                                        *g:latex_fold_enabled*
Use this option to disable/enable folding. >
  let g:latex_fold_enabled = 1
<

                                                           *g:latex_fold_envs*
Decide whether environments should be folded or not. >
  let g:latex_fold_envs = 1
<

                                                          *g:latex_fold_parts*
List of parts that should be folded. >
  let g:latex_fold_parts = [
        \ "appendix",
        \ "frontmatter",
        \ "mainmatter",
        \ "backmatter",
      \ ]
<

                                                       *g:latex_fold_preamble*
Decide whether preamble should be folded or not. >
  let g:latex_fold_preamble = 1
<

                                                       *g:latex_fold_sections*
List of section constructs that should be folded. >
  let g:latex_fold_sections = [
        \ "part",
        \ "chapter",
        \ "section",
        \ "subsection",
        \ "subsubsection",
      \ ]
<

                                                    *g:latex_latexmk_autojump*
Whether to automatically jump to the first error when the error window is
opened with the default mapping or |latex#latexmk#errors|. >
  let g:latex_latexmk_autojump = '0'
<

                                                     *g:latex_latexmk_options*
Set extra options for latexmk compilation. >
  let g:latex_latexmk_options = ''
<

                                                      *g:latex_latexmk_output*
Set desired output for latexmk compilation. >
  let g:latex_latexmk_output = 'pdf'
<

                                                 *g:latex_main_tex_candidates*
A list of common names for main tex-file candidates.  This is used to find the
main tex file in multi-file projects. >
  let g:latex_main_tex_candidates = [
        \ 'main',
        \ 'memo',
        \ 'note',
        \ 'report',
        \ 'thesis',
      \]
<

                                                   *g:latex_motion_close_pats*
Define a list of patterns that match closing braces and environments. >
  let g:latex_motion_close_pats = [
        \ '}',
        \ ')',
        \ '\]',
        \ '\\}',
        \ '\\)',
        \ '\\\]',
        \ '\\end\s*{.\{-}}',
        \ '\\right\s*\%([^\\]\|\\.\|\\\a*\)',
      \ ]
<

                                                   *g:latex_motion_matchparen*
Enable highlighting of matching parens.  This gives better support for LaTeX,
but disables the builtin |matchparen|. >
  let g:latex_motion_matchparen = 1
<

                                                    *g:latex_motion_open_pats*
Define a list of patterns that match opening braces and environments. >
  let g:latex_motion_open_pats = [
        \ '{',
        \ '(',
        \ '\[',
        \ '\\{',
        \ '\\(',
        \ '\\\[',
        \ '\\begin\s*{.\{-}}',
        \ '\\left\s*\%([^\\]\|\\.\|\\\a*\)',
      \ ]
<

                                                     *g:latex_toc_fold_levels*
If TOC entries are folded, this option controls the number of fold levels that
will be used. >
  let g:latex_toc_fold_levels = 0
<

                                                            *g:latex_toc_fold*
Turn on folding of TOC entries. >
  let g:latex_toc_fold = 0
<

                                                       *g:latex_toc_hide_help*
Allow the TOC help text to be hidden. >
  let g:latex_toc_hide_help = 0
<

                                                          *g:latex_toc_resize*
Automatically resize vim when the TOC window is opened. >
  let g:latex_toc_resize = 1
<

                                                      *g:latex_toc_split_side*
Define where the TOC window is opened. >
  let g:latex_toc_split_side = 'leftabove'
<

                                                           *g:latex_toc_width*
Set width of TOC window. >
  let g:latex_toc_width = 30
<

                                                              *g:latex_viewer*
Set default viewer application. >
  let g:latex_viewer = 'xdg-open'
<

==============================================================================
OMNI COMPLETION                                         *vim-latex-completion*

|vim-latex| provides an 'omnifunc' for omni completion, see |compl-omni| and
|latex#complete#omnifunc|.  The function is enabled by default, but may be
disabled with |g:latex_complete_enabled|.  Omni completion is accessible with
'i_<CTRL-X><CTRL-O>'.

The omni function completes labels and citations.  The completion candidates
are gathered with the functions |latex#complete#labels| and
|latex#complete#bibtex|.  If |g:latex_complete_close_braces| is set to 1, then
the completion includes closing braces.

Associated settings:
        |g:latex_complete_enabled|
        |g:latex_complete_patterns.ref|
        |g:latex_complete_patterns.bib|
        |g:latex_complete_close_braces|

Functions:
        |latex#complete#omnifunc|
        |latex#complete#labels|
        |latex#complete#bibtex|

------------------------------------------------------------------------------
Complete labels~

Label completion is triggered by '\ref{' commands as defined with
|g:latex_complete_patterns.ref|.  The completion parses every relevant aux
file to gather the completion candidates.  This is important to note, because
it means that the completion only works when the latex document has been
compiled.

As an example: >

        \ref{sec:<CTRL-X><CTRL-O>

offers a list of all matching labels, with their associated value and page
number.  The label completion matches:

    1. labels: >
        \ref{sec:<CTRL-X><CTRL-O>
<    2. numbers: >
        \eqref{2<CTRL-X><CTRL-O>
<    3. labels and numbers together (separated by whitespace): >
        \eqref{eq 2<CTRL-X><CTRL-O>

------------------------------------------------------------------------------
Complete citations~

Citation completion is triggered by '\cite{' commands as defined with
|g:latex_complete_patterns.bib|.  The completion parses included bibliography
files (`*.bib`) and `thebibliography` environments to gather the completion
candidates.

As an example, assume that a bibliography file is included with the following
entry: >

        @book { knuth1981,
                author = "Donald E. Knuth",
                title = "Seminumerical Algorithms",
                publisher = "Addison-Wesley",
                year = "1981" }

Then the bibliography key `knuth1981` will be completed with e.g.: >

        \cite{Knuth 1981<CTRL-X><CTRL-O>
        \cite{algo<CTRL-X><CTRL-O>
        \cite{Don.*Knuth<CTRL-X><CTRL-O>

In particular, note that regular expressions (or vim patterns) can be used
after '\cite{' to search for candidates.

==============================================================================
FOLDING                                                    *vim-latex-folding*

LatexBox can fold texts according to LaTeX structure (part, chapter, section
and subsection).  Folding is turned on by default, but it can be turned off if
desired |g:latex_fold_enabled|.

When folding is turned on and a latex document is opened, the document is
parsed once in order to define the highest fold level based on which parts
(such as frontmatter, backmatter, and appendix) and section types (chapter,
section, etc.) are present.  If the document has been edited and a new fold
level is required (or has become redundant), then |latex#fold#refresh| can be
used to refresh the fold level settings.  This function is mapped by default
to `zx`.

Associated settings:
    |g:latex_fold_enabled|
    |g:latex_fold_preamble|
    |g:latex_fold_parts|
    |g:latex_fold_sections|
    |g:latex_fold_envs|

Functions:
    |latex#fold#level|
    |latex#fold#text|
    |latex#fold#refresh|

==============================================================================
LATEXMK                                                    *vim-latex-latexmk*

Associated settings:
    |g:latex_latexmk_autojump|
    |g:latex_latexmk_options|
    |g:latex_latexmk_output|

Functions:
    |latex#latexmk#clean|
    |latex#latexmk#compile|
    |latex#latexmk#errors|
    |latex#latexmk#status|
    |latex#latexmk#stop|
    |latex#latexmk#stop_all|
    |latex#latexmk#view|

==============================================================================
MOTION                                                      *vim-latex-motion*

==============================================================================
DEFAULT MAPPINGS                                  *vim-latex-default-mappings*

<LocalLeader>ll                                                     |:Latexmk|
        Compile with latexmk.
<LocalLeader>lL                                                    |:Latexmk!|
        Force compilation with latexmk.
<LocalLeader>lc                                                |:LatexmkClean|
        Clean temporary output from LaTeX.
<LocalLeader>lC                                               |:LatexmkClean!|
        Clean all output from LaTeX.
<LocalLeader>lk                                                 |:LatexmkStop|
        Stop latexmk if it is running.
<LocalLeader>lg                                               |:LatexmkStatus|
        Show the running status of latexmk for the current buffer.
<LocalLeader>lG                                              |:LatexmkStatus!|
        Show the running status of latexmk for all buffers with process group
        ID's.
<LocalLeader>le                                                 |:LatexErrors|
        Load the log file for the current document and jump to the first error.

==============================================================================
FUNCTION REFERENCE                                       *vim-latex-functions*

                                                     *latex#complete#omnifunc*
An 'omnifunc' for label and citation completion, see |vim-latex-completion|.

                                                       *latex#complete#labels*
Parses aux files to gather label candidates for completion.

                                                       *latex#complete#bibtex*
Parses included bibliography files and `thebibliography` environments to
gather candidates for completion.

                                                            *latex#fold#level*
Sets fold level for each line. 'foldexpr' |fold-expr|

                                                             *latex#fold#text*
Sets fold title text. 'foldtext'

                                                          *latex#fold#refresh*
Refreshes fold levels based on which parts and sections used in the current
file buffer.

==============================================================================
Limitations                                            *vim-latex-limitations*

This plugin is written for Linux/Unix environments, and so it does NOT support
Windows.  I do not plan to add support.

 vim:tw=78:ts=8:ft=help:norl:
